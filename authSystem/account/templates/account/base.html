{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>
    {% block title %}
    My App
    {% endblock %}
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<style>
  input,
  textarea,
  select {
    color: #f9fafb;
    background-color: #1f2937;
    border: 1px solid #374151;
  }

  input::placeholder,
  textarea::placeholder {
    color: #9ca3af;
  }

  input:focus,
  textarea:focus,
  select:focus {
    outline: none;
    border-color: #22c55e;
    box-shadow: 0 0 0 2px rgba(34, 197, 94, 0.4);
  }
</style>

<body class="bg-gray-950 text-gray-100 min-h-screen flex flex-col">
  <header class="bg-gray-900 border-b border-gray-800">
    <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
      <h1 class="text-xl font-semibold text-white">Auth System</h1>
      <nav class="flex items-center space-x-4">
        {% if user.is_authenticated %}
        {% if user.is_seller %}
        <a href="{% url 'seller_dashboard' %}"
          class="text-gray-300 hover:text-white transition font-medium">Dashboard</a>
        {% elif user.is_customer %}
        <a href="{% url 'customer_dashboard' %}"
          class="text-gray-300 hover:text-white transition font-medium">Dashboard</a>
        {% endif %}

        <!-- Password Change Links -->
        {% if user.is_seller %}
        <a href="{% url 'seller_password_change' %}"
          class="text-gray-300 hover:text-white transition font-medium">Change Password</a>
        {% elif user.is_customer %}
        <a href="{% url 'customer_password_change' %}"
          class="text-gray-300 hover:text-white transition font-medium">Change Password</a>
        {% endif %}
        <span class="text-gray-400 text-sm border-l border-gray-700 pl-4">
          Welcome, <span class="text-green-400 font-medium">{{ user.email }}</span>
          {% if user.is_seller %}
          <span class="ml-2 px-2 py-1 bg-blue-600 text-white text-xs rounded">Seller</span>
          {% elif user.is_customer %}
          <span class="ml-2 px-2 py-1 bg-purple-600 text-white text-xs rounded">Customer</span>
          {% endif %}
        </span>
        <form method="post" action="{% url 'logout' %}" class="inline">
          {% csrf_token %}
          <button type="submit"
            class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition font-medium">Logout</button>
        </form>
        {% else %}
        <a href="{% url 'home' %}" class="text-gray-300 hover:text-white transition font-medium">Home</a>
        <a href="{% url 'login' %}"
          class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition font-medium">Login</a>
        <a href="{% url 'register' %}"
          class="bg-gray-800 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition font-medium border border-gray-700">Register</a>
        {% endif %}
      </nav>
    </div>
  </header>

  <main class="flex-grow">
    {% if messages %}
    <div class="max-w-7xl mx-auto px-4 mt-4 space-y-2">
      {% for message in messages %}
      <div class="px-4 py-3 rounded-lg text-sm font-medium
                     {% if message.tags == 'success' %}
                
                       bg-green-900 text-green-300 border border-green-700

              {% elif message.tags == 'error' %}
                
                       bg-red-900 text-red-300 border border-red-700

              {% else %}
                
                       bg-gray-800 text-gray-300 border border-gray-700

              {% endif %}">{{ message }}</div>
      {% endfor %}
    </div>
    {% endif %}
    {% block content %}
    {% endblock %}
  </main>
</body>

</html>